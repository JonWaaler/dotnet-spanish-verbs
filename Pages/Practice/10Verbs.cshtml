@page
@model spanish_verbs.Pages.Practice._10VerbsModel
@{
    ViewData["Title"] = "10Verbs";
    Random r = new Random();
    int num = r.Next(0, 2);
}

<section>
    <h1 class="mb-4">Learning 10 Verbs at a Time!</h1>

    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">
            <form method="post" class="card shadow-sm">
                <div class="card-body">

                    <div class="form-group mb-4">
                        @if (Model.QuestionWords != null)
                        {
                            <div class="flex-container" style="justify-content:space-between">
                                <p>Correct: @Model.QuestionsAnsweredCorrect</p>
                                <p>@((Model.QuestionsAnswered + 1))/@Model.QuestionWords.Count</p>
                            </div>
                            @if (Model.QuestionWords[Model.QuestionsAnswered] != null)
                            {
                                <h5 class="card-title mb-3">
                                    Translate:
                                    @if (num == 0)
                                    {
                                        @Model.QuestionWords[Model.QuestionsAnswered].ToEnglish
                                    }
                                    else
                                    {
                                        @Model.QuestionWords[Model.QuestionsAnswered].ToSpanish
                                    }
                                </h5>
                            }
                        }
                        else
                        {
                            <h5 class="card-title mb-3">Error loading words</h5>
                        }
                    </div>

                    <div class="form-group mb-4">
                        <label asp-for="Answer" class="control-label h5"></label>
                        <input asp-for="Answer" autofocus class="form-control form-control-lg" />
                    </div>

                    @*Check if the person finished the test*@
                    @if(Model.QuestionsAnswered <= Model.QuestionWords.Count)
                    {
                        <button type="submit" value="Submit" class="btn btn-primary btn-lg btn-block">Submit</button>
                    }
                    else
                    {
                        <button type="submit" value="Submit" class="btn btn-primary btn-lg btn-block">View Results</button>
                    }

                </div>
            </form>
        </div>
    </div>
<div class="debug-section" >
    <h3>Debug Section</h3>
    <ol style="display:flex;flex-wrap:wrap">
            @foreach (var word in Model.QuestionWords)
            {
                @if(word.ToEnglish == @Model.QuestionWords[@Model.QuestionsAnswered].ToEnglish){
                    <li class="m-3" style="width: 200px;height:40px;color:lawngreen">
                        <strong>To English:</strong> @word.ToEnglish<br />
                        <strong>To Spanish:</strong> @word.ToSpanish
                    </li>
                }
                else
                {
                    <li class="m-3" style="width: 200px;height:40px;">
                        <strong>To English:</strong> @word.ToEnglish<br />
                        <strong>To Spanish:</strong> @word.ToSpanish
                    </li>
                }
                
                    
            }
    </ol>
    
</div>

</section>